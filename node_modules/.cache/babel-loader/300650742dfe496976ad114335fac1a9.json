{"ast":null,"code":"var _jsxFileName = \"/Users/quentin/Chatbot/src/Components/ChatContent/ChatContent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\"; // Redux\n\nimport { connect } from \"react-redux\";\nimport { addMessageToChatFrom } from \"../../Actions/Bot/botActions\"; // Styles\n\nimport \"./chatContent.scss\"; // Components\n\nimport ChatItem from \"./ChatItem\"; // Services\n\nimport { getCovidData, getNews, getHolidays } from \"../../Services/Bot/botAPI\"; // Constants\n\nimport { bots } from \"../../constants\";\nimport { calculateCPUBenchmark } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatContent(props) {\n  _s();\n\n  let messagesEndRef = useRef(null);\n  let inputRef = useRef(null); // Component did mount\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []); // Scroll to bottom when chat is updated\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [props.chat.chatArray]);\n\n  const shouldBotRespond = msg => {\n    if (msg.match(/hello/gi) || msg.match(/hey/gi) || msg.match(/hi/gi)) {\n      greet(\"bot1\");\n      greet(\"bot2\");\n      greet(\"bot3\");\n      return;\n    }\n\n    if (msg.match(/covid/gi)) {\n      getCovidCaseCounts();\n      return;\n    }\n\n    if (msg.match(/holidays/gi)) {\n      getHolidaysInfos();\n      return;\n    }\n\n    if (msg.match(/cpu/gi)) {\n      speedOfCPU();\n      return;\n    }\n\n    if (msg.match(/news/gi)) {\n      returnNews();\n      return;\n    }\n\n    if (msg.match(/search/gi)) {\n      askKeywordToSearch();\n      return;\n    }\n\n    if (props.chat.chatArray.length >= 2 && props.chat.chatArray[props.chat.chatArray.length - 2].msg.match(/search/gi)) {\n      searchKeyword(msg);\n      return;\n    }\n  };\n  /**\n   * Both bots say hi\n   */\n\n\n  const greet = bot => {\n    props.addMessageToChatFrom(`Hey there! I am ${bots[bot].name}.`, bot);\n    props.addMessageToChatFrom(bots[bot].powers, bot);\n  };\n  /**\n   * Calculates avg. CPU speed in ghz\n   */\n\n\n  const speedOfCPU = async () => {\n    const speedBenchmark = calculateCPUBenchmark();\n    props.addMessageToChatFrom(speedBenchmark, \"bot2\");\n  };\n  /**\n   * Gets updated covid data\n   */\n\n\n  const getCovidCaseCounts = async () => {\n    let response = await getCovidData();\n    props.addMessageToChatFrom(`The world covid report is as follows: ${response}`, \"bot1\");\n  };\n\n  const getHolidaysInfos = async () => {\n    let response = await getHolidays();\n    props.addMessageToChatFrom(`The infos for the holidays is as follow: ${response}`, \"bot3\");\n  };\n  /**\n   * Asks for keyword\n   */\n\n\n  const askKeywordToSearch = () => {\n    props.addMessageToChatFrom(`Please enter the keyword that you want to search about`, \"bot2\");\n  };\n  /**\n   * @desc Opens new tab and searches for you\n   * @param {Search query} msg\n   */\n\n\n  const searchKeyword = msg => {\n    const query = msg.split(\" \").join(\"+\");\n    const URL = `https://www.google.com/search?q=${query}`;\n    props.addMessageToChatFrom(`Sure, here it is!`, \"bot2\");\n    window.open(URL);\n  };\n  /**\n   * Gets latest news for France\n   */\n\n\n  const returnNews = async () => {\n    try {\n      const country = {\n        name: \"France\",\n        code: \"fr\"\n      };\n      const numberOfHeadlines = 5;\n      const newsHeadlines = await getNews(country.code, numberOfHeadlines);\n      props.addMessageToChatFrom(`Here are the top 5 headlines for ${country.name}: \\n ${newsHeadlines}`, \"bot1\");\n    } catch (err) {\n      console.log(\"Error in getting news.\", err);\n    }\n  };\n  /**\n   * @desc Sends message to chat that we entered\n   * @param {value from inputRef} e\n   */\n\n\n  const sendMessageFromUser = (message = inputRef.current.value) => {\n    if (message) {\n      props.addMessageToChatFrom(message, \"me\");\n      shouldBotRespond(message);\n    }\n\n    inputRef.current.value = \"\";\n  };\n\n  const handleKeyDown = event => {\n    let val = inputRef.current.value;\n\n    if (event.keyCode === 13 && val !== \"\") {\n      sendMessageFromUser(val);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainChatWindow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat__items\",\n        children: [props.chat.chatArray.map(itm => {\n          return /*#__PURE__*/_jsxDEV(ChatItem, {\n            type: itm.type ? itm.type : \"me\",\n            msg: itm.msg,\n            timeStamp: itm.timeStamp\n          }, itm.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sendNewMessage\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type a message here\",\n          onKeyDown: handleKeyDown,\n          ref: inputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btnSendMsg\",\n          id: \"sendMsgBtn\",\n          onClick: () => sendMessageFromUser(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-location-arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChatContent, \"dSaFLxlCGpGBs7J7MTHcFUBxSpA=\");\n\n_c = ChatContent;\n\nconst mapStateToProps = ({\n  chat\n}) => ({\n  chat\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addMessageToChatFrom: (msg, type) => dispatch(addMessageToChatFrom(msg, type))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatContent);\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatContent\");","map":{"version":3,"sources":["/Users/quentin/Chatbot/src/Components/ChatContent/ChatContent.jsx"],"names":["React","useEffect","useRef","connect","addMessageToChatFrom","ChatItem","getCovidData","getNews","getHolidays","bots","calculateCPUBenchmark","ChatContent","props","messagesEndRef","inputRef","current","focus","scrollToBottom","chat","chatArray","shouldBotRespond","msg","match","greet","getCovidCaseCounts","getHolidaysInfos","speedOfCPU","returnNews","askKeywordToSearch","length","searchKeyword","bot","name","powers","speedBenchmark","response","query","split","join","URL","window","open","country","code","numberOfHeadlines","newsHeadlines","err","console","log","sendMessageFromUser","message","value","handleKeyDown","event","val","keyCode","scrollIntoView","behavior","map","itm","type","timeStamp","key","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { addMessageToChatFrom } from \"../../Actions/Bot/botActions\";\n\n// Styles\nimport \"./chatContent.scss\";\n\n// Components\nimport ChatItem from \"./ChatItem\";\n\n// Services\nimport { getCovidData, getNews, getHolidays } from \"../../Services/Bot/botAPI\";\n\n// Constants\nimport { bots } from \"../../constants\";\nimport { calculateCPUBenchmark } from \"../../utils\";\n\nfunction ChatContent(props) {\n  let messagesEndRef = useRef(null);\n  let inputRef = useRef(null);\n\n  // Component did mount\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  // Scroll to bottom when chat is updated\n  useEffect(() => {\n    scrollToBottom();\n  }, [props.chat.chatArray]);\n\n  const shouldBotRespond = (msg) => {\n    if (msg.match(/hello/gi) || msg.match(/hey/gi) || msg.match(/hi/gi)) {\n      greet(\"bot1\");\n      greet(\"bot2\");\n      greet(\"bot3\");\n      return;\n    }\n\n    if (msg.match(/covid/gi)) {\n      getCovidCaseCounts();\n      return;\n    }\n\n    if (msg.match(/holidays/gi)) {\n      getHolidaysInfos();\n      return;\n    }\n\n    if (msg.match(/cpu/gi)) {\n      speedOfCPU();\n      return;\n    }\n\n    if (msg.match(/news/gi)) {\n      returnNews();\n      return;\n    }\n\n    if (msg.match(/search/gi)) {\n      askKeywordToSearch();\n      return;\n    }\n\n    if (\n      props.chat.chatArray.length >= 2 &&\n      props.chat.chatArray[props.chat.chatArray.length - 2].msg.match(\n        /search/gi\n      )\n    ) {\n      searchKeyword(msg);\n      return;\n    }\n  };\n\n  /**\n   * Both bots say hi\n   */\n  const greet = (bot) => {\n    props.addMessageToChatFrom(`Hey there! I am ${bots[bot].name}.`, bot);\n    props.addMessageToChatFrom(bots[bot].powers, bot);\n  };\n\n  /**\n   * Calculates avg. CPU speed in ghz\n   */\n  const speedOfCPU = async () => {\n    const speedBenchmark = calculateCPUBenchmark();\n    props.addMessageToChatFrom(speedBenchmark, \"bot2\");\n  };\n\n  /**\n   * Gets updated covid data\n   */\n  const getCovidCaseCounts = async () => {\n    let response = await getCovidData();\n    props.addMessageToChatFrom(\n      `The world covid report is as follows: ${response}`,\n      \"bot1\"\n    );\n  };\n\n  const getHolidaysInfos = async() => {\n    let response = await getHolidays();\n    props.addMessageToChatFrom(\n      `The infos for the holidays is as follow: ${response}`,\n      \"bot3\"\n    );\n  };\n\n  /**\n   * Asks for keyword\n   */\n  const askKeywordToSearch = () => {\n    props.addMessageToChatFrom(\n      `Please enter the keyword that you want to search about`,\n      \"bot2\"\n    );\n  };\n\n  /**\n   * @desc Opens new tab and searches for you\n   * @param {Search query} msg\n   */\n  const searchKeyword = (msg) => {\n    const query = msg.split(\" \").join(\"+\");\n    const URL = `https://www.google.com/search?q=${query}`;\n    props.addMessageToChatFrom(`Sure, here it is!`, \"bot2\");\n    window.open(URL);\n  };\n\n  /**\n   * Gets latest news for France\n   */\n  const returnNews = async () => {\n    try {\n      const country = { name: \"France\", code: \"fr\" };\n      const numberOfHeadlines = 5;\n      const newsHeadlines = await getNews(country.code, numberOfHeadlines);\n      props.addMessageToChatFrom(\n        `Here are the top 5 headlines for ${country.name}: \\n ${newsHeadlines}`,\n        \"bot1\"\n      );\n    } catch (err) {\n      console.log(\"Error in getting news.\", err);\n    }\n  };\n\n  /**\n   * @desc Sends message to chat that we entered\n   * @param {value from inputRef} e\n   */\n  const sendMessageFromUser = (message = inputRef.current.value) => {\n    if (message) {\n      props.addMessageToChatFrom(message, \"me\");\n      shouldBotRespond(message);\n    }\n    inputRef.current.value = \"\";\n  };\n\n  const handleKeyDown = (event) => {\n    let val = inputRef.current.value;\n    if (event.keyCode === 13 && val !== \"\") {\n      sendMessageFromUser(val);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  return (\n    <div className=\"mainChatWindow\">\n      <div className=\"blur\"></div>\n      <div className=\"content__body\">\n        <div className=\"chat__items\">\n          {props.chat.chatArray.map((itm) => {\n            return (\n              <ChatItem\n                key={itm.key}\n                type={itm.type ? itm.type : \"me\"}\n                msg={itm.msg}\n                timeStamp={itm.timeStamp}\n              />\n            );\n          })}\n          <div ref={messagesEndRef} />\n        </div>\n      </div>\n      <div className=\"content__footer\">\n        <div className=\"sendNewMessage\">\n          <input\n            type=\"text\"\n            placeholder=\"Type a message here\"\n            onKeyDown={handleKeyDown}\n            ref={inputRef}\n          />\n          <button\n            className=\"btnSendMsg\"\n            id=\"sendMsgBtn\"\n            onClick={() => sendMessageFromUser()}\n          >\n            {/* <i className=\"fa fa-paper-plane\"></i> */}\n            <i className=\"fa fa-location-arrow\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ chat }) => ({\n  chat,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addMessageToChatFrom: (msg, type) =>\n    dispatch(addMessageToChatFrom(msg, type)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatContent);\n"]},"metadata":{},"sourceType":"module"}